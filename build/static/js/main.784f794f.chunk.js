(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(4),o=a.n(r),s=(a(13),a(14),a(5)),i=(a(15),a(3)),l={NewConfirmed:"New Confirmed",TotalConfirmed:"Total Confirmed",NewDeaths:"New Deaths",TotalDeaths:"Total Deaths",NewRecovered:"New Recovered",TotalRecovered:"Total Recovered",Country:"Country Name"},d={items:[{label:l.NewConfirmed,value:0},{label:l.NewDeaths,value:0},{label:l.NewRecovered,value:0},{label:l.TotalConfirmed,value:0},{label:l.TotalDeaths,value:0},{label:l.TotalRecovered,value:0}]},m=Object(i.b)({name:"summarySlice",initialState:d,reducers:{updateSummary:function(e,t){var a=t.payload,n=[];for(var c in l)void 0!==a[c]&&n.push({label:l[c],value:a[c]});e.items=n,console.log("Summary updates should be done here")}}}),u=m.actions,j=m;var f={compareCountryDescending:function(e,t){return e.Country>t.Country?-1:e.Country<t.Country?1:0},compareCountryAscending:function(e,t){return e.Country<t.Country?-1:e.Country>t.Country?1:0},compareNewConfirmedAscending:function(e,t){return e.NewConfirmed<t.NewConfirmed?-1:e.NewConfirmed>t.NewConfirmed?1:0},compareNewConfirmedDescending:function(e,t){return e.NewConfirmed>t.NewConfirmed?-1:e.NewConfirmed<t.NewConfirmed?1:0},compareTotalConfirmedAscending:function(e,t){return e.TotalConfirmed<t.TotalConfirmed?-1:e.NewConfirmed>t.NewConfirmed?1:0},compareTotalConfirmedDescending:function(e,t){return e.TotalConfirmed>t.TotalConfirmed?-1:e.TotalConfirmed<t.TotalConfirmed?1:0},compareNewDeathsAscending:function(e,t){return e.NewDeaths<t.NewDeaths?-1:e.NewDeaths>t.NewDeaths?1:0},compareNewDeathsDescending:function(e,t){return e.NewDeaths>t.NewDeaths?-1:e.NewDeaths<t.NewDeaths?1:0},compareTotalDeathsAscending:function(e,t){return e.TotalDeaths<t.TotalDeaths?-1:e.TotalDeaths>t.TotalDeaths?1:0},compareTotalDeathsDescending:function(e,t){return e.TotalDeaths>t.TotalDeaths?-1:e.TotalDeaths<t.TotalDeaths?1:0},compareNewRecoveredAscending:function(e,t){return e.NewRecovered<t.NewRecovered?-1:e.NewRecovered>t.NewRecovered?1:0},compareNewRecoveredDescending:function(e,t){return e.NewRecovered>t.NewRecovered?-1:e.NewRecovered<t.NewRecovered?1:0},compareTotalRecoveredAscending:function(e,t){return e.TotalRecovered<t.TotalRecovered?-1:e.TotalRecovered>t.TotalRecovered?1:0},compareTotalRecoveredDescending:function(e,t){return e.TotalRecovered>t.TotalRecovered?-1:e.TotalRecovered<t.TotalRecovered?1:0}},h=Object(i.b)({name:"summarySlice",initialState:{items:[{ID:"0",Country:"",CountryCode:"",Slug:"",NewConfirmed:0,TotalConfirmed:0,NewDeaths:0,TotalDeaths:0,NewRecovered:0,TotalRecovered:0,Date:""}],completeItems:[],minMaxValues:{NewConfirmed:{min:0,max:0},TotalConfirmed:{min:0,max:0},NewDeaths:{min:0,max:0}}},reducers:{updateTableStore:function(e,t){e.items=t.payload,e.completeItems=t.payload;var a=t.payload[0].NewDeaths,n=t.payload[0].NewDeaths,c=t.payload[0].NewConfirmed,r=t.payload[0].NewConfirmed,o=t.payload[0].TotalConfirmed,s=t.payload[0].TotalConfirmed;t.payload.map((function(e){e.NewConfirmed<c&&(c=e.NewConfirmed),e.NewConfirmed>r&&(r=e.NewConfirmed),e.TotalConfirmed>s&&(s=e.TotalConfirmed),e.TotalConfirmed<o&&(o=e.TotalConfirmed),e.NewDeaths>n&&(n=e.NewDeaths),e.NewDeaths<a&&(a=e.NewDeaths)})),e.minMaxValues.NewConfirmed.min=c,e.minMaxValues.NewConfirmed.max=r,e.minMaxValues.TotalConfirmed.min=o,e.minMaxValues.TotalConfirmed.max=s,e.minMaxValues.NewDeaths.min=a,e.minMaxValues.NewDeaths.max=n},sortTableAscending:function(e,t){switch(console.log("sortTableAscending is called!!"+t.payload),t.payload){case"Country":e.items.sort(f.compareCountryAscending);break;case"NewConfirmed":e.items.sort(f.compareNewConfirmedAscending);break;case"TotalConfirmed":e.items.sort(f.compareTotalConfirmedAscending);break;case"NewDeaths":e.items.sort(f.compareNewDeathsAscending);break;case"TotalDeaths":e.items.sort(f.compareTotalDeathsAscending);break;case"NewRecovered":e.items.sort(f.compareNewRecoveredAscending);break;case"TotalRecovered":e.items.sort(f.compareTotalRecoveredAscending)}},sortTableDescending:function(e,t){switch(console.log("sortTableDescending is called!!"+t.payload),t.payload){case"Country":e.items.sort(f.compareCountryDescending);break;case"NewConfirmed":e.items.sort(f.compareNewConfirmedDescending);break;case"TotalConfirmed":e.items.sort(f.compareTotalConfirmedDescending);break;case"NewDeaths":e.items.sort(f.compareNewDeathsDescending);break;case"TotalDeaths":e.items.sort(f.compareTotalDeathsDescending);break;case"NewRecovered":e.items.sort(f.compareNewRecoveredDescending);break;case"TotalRecovered":e.items.sort(f.compareTotalRecoveredDescending)}},applyFilter:function(e,t){console.log("Apply filters called");var a=e.completeItems.filter((function(e){if(e.Country.includes(t.payload.country)&&e.NewConfirmed<=t.payload.NewConfirmed)return!0}));e.items=a}}}),b=h.actions,N=h,p=a(2),v=a(0);var C=function(){var e=Object(n.useState)((new Date).toTimeString()),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(p.b)();return Object(v.jsxs)("header",{className:"header",children:[Object(v.jsx)("div",{className:"logoDiv",children:Object(v.jsx)("p",{className:"logoText",children:"Covid Tracker"})}),Object(v.jsxs)("div",{className:"refreshedDiv",children:[Object(v.jsx)("button",{className:"refreshButton",onClick:function(){fetch("https://api.covid19api.com/summary",{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),r(u.updateSummary(e.Global)),r(b.updateTableStore(e.Countries)),c((new Date).toTimeString())})).catch((function(e){console.log("Error while fetching data")}))},children:"Refresh"}),Object(v.jsxs)("p",{children:["Last Refreshed : ",a]})]})]})};var w=function(e){return Object(v.jsxs)("div",{className:"eachSummarySection",children:[Object(v.jsx)("p",{className:"summarySectionLabel",children:e.label}),Object(v.jsx)("p",{className:"summarySectionValue",children:e.value}),Object(v.jsx)("p",{className:"summarySectionValueLoading"})]})};a(23);var x=function(){var e=Object(p.c)((function(e){return e.summary.items}));return Object(v.jsxs)("div",{className:"summaryDiv",children:[Object(v.jsxs)("div",{className:"summaryHeaderDiv",children:[Object(v.jsx)("p",{className:"summaryHeaderText",children:"Global Summary"})," "]}),e.map((function(e){return Object(v.jsx)(w,{label:e.label,value:e.value},e.label)}))]})};var T=function(){var e=Object(p.b)(),t=function(t){console.log("Ascending is called");var a=t.currentTarget.getAttribute("data-field");e(b.sortTableAscending(a))},a=function(t){console.log("sortDescending is called");var a=t.currentTarget.getAttribute("data-field");e(b.sortTableDescending(a))};return Object(v.jsx)("thead",{className:"tableHeaderDiv",children:Object(v.jsxs)("tr",{children:[Object(v.jsxs)("th",{children:[" ",l.Country," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"Country",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{className:"sortDescending","data-field":"Country",onClick:a,children:"  "})," "]})," "]}),Object(v.jsxs)("th",{children:[" ",l.NewConfirmed," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"NewConfirmed",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{"data-field":"NewConfirmed",className:"sortDescending",onClick:a,children:"  "})," "]})," "]}),Object(v.jsxs)("th",{children:[" ",l.TotalConfirmed," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"TotalConfirmed",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{"data-field":"TotalConfirmed",className:"sortDescending",onClick:a,children:"  "})," "]})," "]}),Object(v.jsxs)("th",{children:[" ",l.NewDeaths," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"NewDeaths",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{"data-field":"NewDeaths",className:"sortDescending",onClick:a,children:"  "})," "]})," "]}),Object(v.jsxs)("th",{children:[" ",l.TotalDeaths," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"TotalDeaths",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{"data-field":"TotalDeaths",className:"sortDescending",onClick:a,children:"  "})," "]})," "]}),Object(v.jsxs)("th",{children:[" ",l.NewRecovered," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"NewRecovered",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{"data-field":"NewRecovered",className:"sortDescending",onClick:a,children:"  "})," "]})," "]}),Object(v.jsxs)("th",{children:[" ",l.TotalRecovered," ",Object(v.jsxs)("div",{className:"iconsWrapper",children:[" ",Object(v.jsx)("span",{"data-field":"TotalRecovered",className:"sortAscending",onClick:t,children:"  "})," ",Object(v.jsx)("span",{"data-field":"TotalRecovered",className:"sortDescending",onClick:a,children:"  "})," "]})," "]})]})})};var O=function(e){return Object(v.jsx)("tbody",{children:e.commonProps.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.Country}),Object(v.jsx)("td",{children:e.NewConfirmed}),Object(v.jsx)("td",{children:e.TotalConfirmed}),Object(v.jsx)("td",{children:e.NewDeaths}),Object(v.jsx)("td",{children:e.TotalDeaths}),Object(v.jsx)("td",{children:e.NewRecovered}),Object(v.jsx)("td",{children:e.TotalRecovered})]},e.ID)}))})};a(24);var D=function(){var e=Object(p.c)((function(e){return e.table.items}));return Object(v.jsx)("div",{className:"TableWrapper",children:Object(v.jsxs)("table",{className:"trackingTable",children:[Object(v.jsx)(T,{}),Object(v.jsx)(O,{commonProps:e})]})})};a(25);var g=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.table.minMaxValues}));Object(n.useEffect)((function(){o(document.getElementById("newConfirmedFilter").value)}),[t]);var a=Object(n.useState)(0),c=Object(s.a)(a,2),r=c[0],o=c[1],i=function(){console.log("Filters changed");var t=function(){var e={};return e.country=document.getElementById("countryFilter").value,e.NewConfirmed=document.getElementById("newConfirmedFilter").value,e}();e(b.applyFilter(t))};return Object(v.jsxs)("div",{className:"filterDiv",children:[Object(v.jsx)("div",{className:"eachFilterDiv",children:Object(v.jsx)("input",{id:"countryFilter",className:"filterInput",placeholder:"Search country name...",type:"text",onKeyUp:function(e){i()}})}),Object(v.jsxs)("div",{className:"eachFilterDiv",children:[Object(v.jsx)("div",{children:Object(v.jsxs)("p",{className:"rangeLabel",children:[" Minimum value: ",t.NewConfirmed.min]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("p",{className:"rangeLabel",children:[" Maximun value: ",t.NewConfirmed.max]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("p",{className:"rangeLabel",children:[" Selected value: ",r]})}),Object(v.jsx)("input",{id:"newConfirmedFilter",className:"newConfirmedFilter",onInput:function(e,t){var a;return function(){var n=this,c=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,c)}),t)}}((function(e){o(document.getElementById("newConfirmedFilter").value),i()}),500),defaultValue:t.NewConfirmed.max,step:"5",type:"range",min:t.NewConfirmed.min,max:t.NewConfirmed.max})]})]})};a(26);var y=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){fetch("https://api.covid19api.com/summary",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),e(u.updateSummary(t.Global)),e(b.updateTableStore(t.Countries))})).catch((function(e){console.log("Error while fetching data")}))}),[]),Object(v.jsxs)("div",{className:"wrapper",children:[Object(v.jsx)(x,{}),Object(v.jsx)(g,{}),Object(v.jsx)(D,{})]})};var R=function(){return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(C,{}),Object(v.jsx)(y,{})]})},k=Object(i.a)({reducer:{summary:j.reducer,table:N.reducer}});o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(p.a,{store:k,children:Object(v.jsx)(R,{})})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.784f794f.chunk.js.map